# Korea2172 - 대한민국 인구 통계 분석 및 예측

## 📚 발표자료 링크
- 📊 [데이터 분석 보고서](https://drive.google.com/file/d/17VEF2DO7PSXFZssRlupvnadK-1TsM_Cp/view?usp=sharing)

## 📑 목차
1. [데이터 소개](#1-데이터-소개)
2. [ARIMA 모델 분석](#2-arima-모델-분석)
3. [ETS 모델 분석](#3-ets-모델-분석)
4. [타겟 모델 분석](#4-타겟-모델-분석)
5. [Random Forest & LASSO](#5-random-forest--lasso)
6. [활용 방안](#6-활용-방안)

## 1. 📊 데이터 소개
- 출처: 통계청 국가통계포털(KOSIS)
- 기간: 1960년 ~ 2022년
- 분석 변수:
  - 연령별 인구 구성비 (0-14세, 15-64세, 65세 이상)
  - 성별 인구
  - 부양비 (총부양비, 유소년부양비, 노년부양비)
  - 노령화지수
  - 중위연령 및 평균연령 (전체/성별)

## 2. 📈 ARIMA 모델 분석
- 시계열 데이터 기반 예측 모델
- auto.arima를 통한 최적 파라미터 선정
- 2172년까지의 장기 예측 수행
- 신뢰구간 95% 계산

## 3. 📉 ETS 모델 분석
- 지수평활법 기반 시계열 예측
- 계절성, 추세, 오차를 고려한 모델링
- ARIMA 모델과의 비교 분석

## 4. 🎯 타겟 모델 분석
- 인구 구조 변화에 따른 타겟 지표 설정
- 주요 변수들의 상관관계 분석
- 미래 인구 구조 시나리오 분석

## 5. 🌲 Random Forest & LASSO
- 머신러닝 기반의 예측 모델
- 변수 중요도 분석
- 앙상블 기법을 통한 예측 정확도 향상
- 교차 검증을 통한 모델 평가

## 6. 💡 활용 방안
- 인구 정책 수립을 위한 기초 자료
- 장기 경제 전망 지표
- 사회 인프라 계획 수립

## 1. 데이터 소개

### 주요 인구지표
- 성비
- 인구성장률
- 인구구조
- 부양비 등

### 데이터 세부정보
- 출처: KOSIS (주요 인구지표)
- 중위 추계(기본 추계: 출산율-중위 / 기대수명-중위 / 국제순이동-중위)
- 데이터 기간: 1960년 ~ 2072년
- 데이터 규모: 21 × 114
- 타겟 변수: 총인구(명)

### 데이터 접근
데이터는 아래 QR 코드나 링크를 통해 접근 가능합니다:
[KOSIS 데이터 링크](QR코드 링크)

## 2. ARIMA 모델 분석

### ARIMA 01 개요
- 시나리오: 시계열 모델을 이용해 기존의 1960~2072년 까지의 데이터에서 2172년 까지의 인구데이터를 추가
- 타겟변수: 총인구(명) 계열
- 모델 선택 기준: MAPE
- auto.arima() 를 사용하여 최적의 AR(p), I(d), MA(q) 값을 피팅하여 나온 결과

### ARIMA 01 성능 지표 (MAPE)
- 최소값: 0.06442
- 1사분위: 0.14545
- 중앙값: 0.17561
- 평균: 1.21653
- 3사분위: 0.52214
- 최대값: 17.99159

### ARIMA 모델 파라미터
각 변수별 최적 ARIMA(p,d,q) 파라미터:
- 구성비(%) 0-14세: (0,2,0)
- 구성비(%) 15-64세: (0,2,0)
- 구성비(%) 65세 이상: (1,2,0)
- 남자(명): (0,2,2)
- 노년부양비: (0,2,0)
- 노령화지수: (2,2,3)
- 성비(여자1백명당): (1,1,0)
- 여자(명): (0,2,0)
- 유소년부양비: (1,2,0)
- 인구(명) 0-14세: (1,2,0)
- 인구(명) 15-64세: (0,2,0)
- 인구(명) 65세 이상: (0,2,0)

### 주요 결과
- 타겟변수 총인구(명)과 연도를 제외한 모든 변수에 대해서 총 20개의 ARIMA모델을 피팅한 결과
- 평균적으로 1.21653로 상당히 높은 오차를 보이고 있음
- 특히 최대 값이 17.99159로 매우 높음
- MAPE가 최댓값을 가지는 모델에 대해 수정이 필요

### ARIMA 02 개선 모델
- 시나리오: 시계열 모델을 이용해 기존의 1960~2072년 까지의 데이터에서 2172년 까지의 인구데이터를 추가
- 타겟변수: 총인구(명) 계열
- 모델 선택 기준: MAPE
- auto.arima() 를 사용하여 최적의 AR(p), I(d), MA(q) 값을 피팅

### ARIMA 02 성능 지표 (MAPE)
- 최소값: 0.06442
- 1사분위: 0.14462
- 중앙값: 0.16246
- 평균: 0.33363
- 3사분위: 0.46952
- 최대값: 0.98846

### GPT 평가
"평균적으로 이 모델의 예측이 상당히 정확하다고 볼 수 있습니다."

### 주요 개선사항
- 모델 평가지표의 MAPE 값이 가장 높은 모델인 "인구성장률"을 제외
- 19개의 모델의 MAPE 값을 재측정
- 평균 MAPE는 0.33363으로, 모델이 평균적으로 예측한 결과 실제 값 사이의 백분율 오차가 약 33.4%
- "인구성장률"을 제외한 19개의 ARIMA 모델을 재학습하여 2172년 까지의 인구 지표 데이터를 생성

### 개선된 ARIMA 모델 파라미터
각 변수별 최적 ARIMA(p,d,q) 파라미터:
- 구성비(%) 0-14세: (0,2,0)
- 구성비(%) 15-64세: (0,2,0)
- 구성비(%) 65세 이상: (1,2,0)
- 남자(명): (0,2,2)
- 노년부양비: (0,2,0)
- 노령화지수: (2,2,3)
- 성비(여자1백명당): (1,1,0)
- 여자(명): (0,2,0)
- 유소년부양비: (1,2,0)
- 인구(명) 0-14세: (1,2,0)
- 인구(명) 15-64세: (0,2,0)
- 인구(명) 65세 이상: (0,2,0)
- 중위연령(세): (1,2,2)
- 중위연령(세)-남자: (1,2,2)
- 중위연령(세)-여자: (1,2,0)
- 총부양비: (1,2,0)
- 평균연령(세): (1,2,2)
- 평균연령(세)-남자: (1,2,0)
- 평균연령(세)-여자: (2,2,2)


## 3. ETS 모델 분석

### ETS 01 개요
- 시나리오: 시계열 모델을 이용해 기존의 1960~2072년 까지의 데이터에서 2172년 까지의 인구데이터를 추가
- 타겟변수: 총인구(명) 계열
- 모델 선택 기준: MAPE

### ETS 01 성능 지표 (MAPE)
- 최소값: 0.07365
- 1사분위: 0.15402
- 중앙값: 0.18409
- 평균: Inf
- 3사분위: 0.55950
- 최대값: Inf

### 주요 특이사항
- 하나 이상의 모델에서 MAPE 값이 무한대로 나타남. 이는 평균값이 무한대인 이유임
- 이는 데이터에 이상치가 포함되어 있음을 의미함
- 각각의 모델에서 특히 결과 "인구성장률"에서 Inf 값이 관측됨

### ETS 모델 파라미터
각 변수별 ETS 모델 유형:
- 구성비(%) 0-14세: ETS(A,Ad,N)
- 구성비(%) 15-64세: ETS(M,Ad,N)
- 구성비(%) 65세 이상: ETS(A,A,N)
- 노년부양비: ETS(M,Ad,N)
- 노령화지수: ETS(A,A,N)
- 성비(여자1백명당): ETS(M,A,N)
- 여자(명): ETS(M,Ad,N)
- 유소년부양비: ETS(A,Ad,N)
- 인구(명) 0-14세: ETS(M,Ad,N)
- 인구(명) 15-64세: ETS(A,A,N)
- 인구(명) 65세 이상: ETS(A,A,N)
- 인구성장률: ETS(A,Ad,N)
- 중위연령(세): ETS(A,A,N)
- 중위연령(세)-남자: ETS(A,A,N)
- 중위연령(세)-여자: ETS(A,A,N)
- 총부양비: ETS(A,A,N)
- 평균연령(세): ETS(A,A,N)
- 평균연령(세)-남자: ETS(A,A,N)
- 평균연령(세)-여자: ETS(A,A,N)

※ ETS(Error, Trend, Seasonal) 모델에서:
- A: Additive (가법)
- M: Multiplicative (승법)
- N: None (없음)
- Ad: Additive damped (감쇠 가법)

### ETS 02 개선 모델
- 시나리오: 시계열 모델을 이용해 기존의 1960~2072년 까지의 데이터에서 2172년 까지의 인구데이터를 추가
- 타겟변수: 총인구(명) 계열
- 모델 선택 기준: MAPE

### ETS 02 성능 지표 (MAPE)
- 최소값: 0.07365
- 1사분위: 0.15103
- 중앙값: 0.17107
- 평균: 0.35419
- 3사분위: 0.49717
- 최대값: 1.00829

### 주요 개선사항
- 각각의 모델에서 특히 결과 "인구성장률"에서 Inf 값이 관측되었던 문제 해결
- Inf 값이 관측된 "인구성장률"을 삭제하고 나머지 ETS모델의 MAPE 결과값으로 대체
- ARIMA와 ETS는 결국 각각 19개의 개별적인 모델을 가지고 있기때문에 각 모델을 서로 비교하여 더 낮은 MAPE 값을 가지는 모델을 선택해 2172년까지 인구 정보를 최종 데이터로 구성

### 개선된 ETS 모델 파라미터
각 변수별 ETS 모델 유형:
- 구성비(%) 0-14세: ETS(A,Ad,N)
- 구성비(%) 15-64세: ETS(M,Ad,N)
- 구성비(%) 65세 이상: ETS(A,A,N)
- 남자(명): ETS(M,Ad,N)
- 노년부양비: ETS(A,A,N)
- 노령화지수: ETS(M,A,N)
- 성비(여자1백명당): ETS(M,Ad,N)
- 여자(명): ETS(A,Ad,N)
- 유소년부양비: ETS(M,Ad,N)
- 인구(명) 0-14세: ETS(M,Ad,N)
- 인구(명) 15-64세: ETS(A,A,N)
- 인구(명) 65세 이상: ETS(A,A,N)
- 중위연령(세): ETS(A,A,N)
- 중위연령(세)-남자: ETS(A,A,N)
- 중위연령(세)-여자: ETS(A,A,N)
- 총부양비: ETS(A,A,N)
- 평균연령(세): ETS(A,A,N)
- 평균연령(세)-남자: ETS(A,A,N)
- 평균연령(세)-여자: ETS(A,A,N)

## ARIMA & ETA 모델 조합

### 최종 성능 지표 (MAPE)
- 최소값: 0.06442
- 1사분위: 0.14462
- 중앙값: 0.16246
- 평균: 0.33217
- 3사분위: 0.45636
- 최대값: 0.98846

### 주요 개선사항
- 각각의 모델에서 "인구성장률"에서 Inf 값이 관측되어 제외
- 36개의 개별적인 모델(ARIMA와 ETS 각각 18개)을 비교하여 더 낮은 MAPE 값을 가지는 모델을 선택
- 2172년까지 인구 정보를 최종 데이터로 구성

### 모델 성능 비교 및 선택
| 변수 | ETS_MAPE | ARIMA_MAPE | 최종 선택 |
|------|-----------|-------------|------------|
| 구성비(%) 0-14세 | 0.46788440 | 0.45554920 | ARIMA |
| 구성비(%) 15-64세 | 0.16006440 | 0.15570590 | ARIMA |
| 구성비(%) 65세 이상 | 1.00828500 | 0.98846290 | ARIMA |
| 남자(명) | 0.08659570 | 0.08071827 | ARIMA |
| 노년부양비 | 0.72748330 | 0.72660610 | ARIMA |
| 노령화지수 | 0.99705710 | 0.96857290 | ARIMA |
| 성비(여자1백명당) | 0.07365128 | 0.07518383 | ETS |
| 여자(명) | 0.07717360 | 0.06442317 | ARIMA |
| 유소년부양비 | 0.45716640 | 0.48349120 | ETS |
| 인구(명) 0-14세 | 0.52644590 | 0.27081590 | ARIMA |
| 인구(명) 15-64세 | 0.17106630 | 0.15700030 | ARIMA |
| 인구(명) 65세 이상 | 0.65867820 | 0.63809480 | ARIMA |
| 중위연령(세) | 0.16430670 | 0.16246080 | ARIMA |
| 중위연령(세)-남자 | 0.19712280 | 0.18875070 | ARIMA |
| 중위연령(세)-여자 | 0.14503960 | 0.14295430 | ARIMA |
| 총부양비 | 0.35415860 | 0.35047380 | ARIMA |
| 평균연령(세) | 0.15928600 | 0.14628550 | ARIMA |
| 평균연령(세)-남자 | 0.14103980 | 0.13628980 | ARIMA |
| 평균연령(세)-여자 | 0.15701530 | 0.14721040 | ARIMA |

### 주요 결과
- 시계열 모델의 최종성능
  - 성비(여자1백명당)에서 약 2% 의 성능 향상
  - 유소년 부양비에서 약 6% 의 성능 향상
  - 평균 오차가 약 33.21%의 성능을 기록
  - 가장 결과가 좋았던 기존의 ARIMA 02의 33.4% 보다 평균 오차 0.2% 감소


## 4. TARGET MODEL 분석

### TARGET MODEL 01
- 타겟: "총인구(명)" 예측모델
- 시나리오: 타겟 변수 "총인구(명)"을 예측하기 위한 모델의 성과 과정
- 기존의 2073년 ~ 2172년 까지의 "총인구(명)" 예측 과정
- 모델 선택 기준: MAE

### Random Forest 모델 요약
- 랜덤 포레스트 화귀 모델은 500개의 트리를 사용하여 학습
- 각 노드에서 분할할 때 20개의 피처를 고려
- 모델의 MAE는 143,652로 측정
- 중속 변수의 분실율 99.34% 설명가능

### 변수 중요도 (Variable Importance based on %IncMSE)
주요 변수들의 상대적 중요도가 그래프로 표시되어 있으며, 상위 변수들은 다음과 같습니다:
1. 여자(명)
2. 남자(명)
3. 구성비(%) 15-64세
4. 인구(명) 0-14세
5. 평균연령(세)
6. 평균연령(세)-남자
7. 노령화지수
8. 인구(명) 65세 이상
9. 중위연령(세)
10. 성비(여자1백명당)

그래프에서 보이듯이, '여자(명)'과 '남자(명)' 변수가 가장 높은 중요도를 보이며, 이는 총인구 예측에 있어 가장 큰 영향을 미치는 요인임을 나타냅니다.

### TARGET MODEL 02
- 타겟: "총인구(명)" 예측모델
- 시나리오: 타겟 변수 "총인구(명)"을 예측하기 위한 모델의 성과 과정
- 기존의 2073년 ~ 2172년 까지의 "총인구(명)" 예측 과정
- 모델 선택 기준: MAE

### LASSO Regression 모델 요약
- Best lambda value: 212026.30992571
- lasso_model$lambda (사용된 람다 값) 적용
- 연도와 대부분의 변수들의 계수가 0으로 축소됨
- 남자(명)와 여자(명)의 계수는 각각 약 1.23과 약 0.71
- 모델의 MAE는 178,616으로 측정

### 변수 중요도 (Variable Importance based on Coefficients)
LASSO 회귀 분석 결과, 대부분의 변수들이 정규화 과정에서 제외되었으며, 주요 변수는 다음과 같습니다:

1. 남자(명) - 계수: 약 1.23
2. 여자(명) - 계수: 약 0.71
3. 나머지 변수들 - 계수: 0

### 모델 비교 분석
- Random Forest (MAE: 143,652) vs LASSO (MAE: 178,616)
- Random Forest 모델이 LASSO 모델보다 약 19.6% 더 나은 예측 성능을 보임
- LASSO 모델은 변수 선택에서 매우 엄격하여 단 2개의 변수만을 사용
- Random Forest는 더 많은 변수들의 복잡한 상호작용을 고려하여 더 정확한 예측을 제공

## 5. RANDOM FOREST & LASSO 모델 조합

### 모델 개요
- 시나리오: 타겟 변수 "총인구(명)"을 예측하기 위한 모델의 선택 과정
- 기존의 2073년 ~ 2172년 까지의 "총인구(명)" 예측 과정
- 모델 선택 기준: MAE

### 모델 성능 비교
- Random Forest MAE: 143,652
- LASSO MAE: 178,616
- Random Forest & LASSO 조합 MAE: 110,040

### 2172년까지 예측 결과 분석

#### LASSO 모델의 특징
- 인구예측이 인구가 급감하는 방향으로 하고있다
- 불필요한 변수의 계수를 0으로 만들어 대부분의 변수가 선택되지 않고 모델이 단순화
- 극단적인 예측 결과를 보여줌

#### Random Forest 모델의 특징
- 인구 예측이 3천 500만명 정도로 계속 유지
- 다양한 변수들이 선택되어 모델의 결정 과정에 기여
- 극단적인 예측을 방지하는 안정적인 결과를 보여줌

#### 모델 조합의 장점
1. 더 낮은 MAE 값 달성 (110,040)
2. 두 모델의 장점을 결합하여 더 균형잡힌 예측 제공
3. 극단적인 예측을 완화하면서도 트렌드를 반영

### 시각화 분석
그래프에서 볼 수 있듯이:
1. LASSO 모델(빨간선)은 급격한 인구 감소를 예측
2. Random Forest 모델(초록선)은 안정적인 인구 유지를 예측
3. 조합 모델(파란선)은 두 모델의 중간적인 예측을 보여주며, 더 현실적인 시나리오를 제시

## 6. 💡 활용 방안

### ⏰ 대한민국 인구시계
- NAVER 등 여러 플랫폼에 "대한민국 인구 시계" 를 기재
- 매달 1번씩 대한민국 인구시계를 표시하여 저출산 문제의 심각성을 알리는것
- 향후 출산율과 인구 동계에 실시간 대응을 함
- 시간이 줄어들거나 늘어나는 유동적으로 움직임

### 🛠 구현 방식
1. 🔄 실시간 데이터 업데이트
   - 📥 통계청 데이터 자동 수집
   - 🤖 예측 모델 기반 실시간 추정

2. 📊 시각화 요소
   - ⏱ 카운트다운 형식의 인구시계
   - 📈 주요 인구 지표 그래프
   - 👥 연령별/성별 인구 분포

3. 🌐 활용 플랫폼
   - 🔍 포털 사이트 메인 페이지
   - 🏛 공공기관 웹사이트
   - 📰 뉴스 미디어

### ✨ 기대 효과
1. 👥 인구 문제 인식 제고
   - 📊 실시간 시각화를 통한 경각심 고취
   - 📈 인구 변화 추세에 대한 이해도 향상

2. 📋 정책 수립 지원
   - 💻 데이터 기반 정책 결정 지원
   - 📊 인구 정책 효과 모니터링

3. 💭 사회적 논의 활성화
   - 👨‍👩‍👧‍👦 저출산 고령화 문제에 대한 공론화
   - 🤝 세대간 인구 구조 변화 이해